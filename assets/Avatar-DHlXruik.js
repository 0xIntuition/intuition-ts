import{j as v}from"./jsx-runtime-Cw0GR0a5.js";import{r as n}from"./index-CTjT7uj6.js";import{_ as u}from"./extends-CCbyfPlC.js";import{r as j}from"./index-DdAkmXN0.js";import{c as g}from"./index-bugisSBR.js";function k(e,o=[]){let t=[];function r(a,s){const d=n.createContext(s),i=t.length;t=[...t,s];function l($){const{scope:f,children:m,...p}=$,I=(f==null?void 0:f[e][i])||d,M=n.useMemo(()=>p,Object.values(p));return n.createElement(I.Provider,{value:M},m)}function h($,f){const m=(f==null?void 0:f[e][i])||d,p=n.useContext(m);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${$}\` must be used within \`${a}\``)}return l.displayName=a+"Provider",[l,h]}const c=()=>{const a=t.map(s=>n.createContext(s));return function(d){const i=(d==null?void 0:d[e])||a;return n.useMemo(()=>({[`__scope${e}`]:{...d,[e]:i}}),[d,i])}};return c.scopeName=e,[r,V(c,...o)]}function V(...e){const o=e[0];if(e.length===1)return o;const t=()=>{const r=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(a){const s=r.reduce((d,{useScope:i,scopeName:l})=>{const $=i(a)[`__scope${l}`];return{...d,...$}},{});return n.useMemo(()=>({[`__scope${o.scopeName}`]:s}),[s])}};return t.scopeName=o.scopeName,t}function T(e){const o=n.useRef(e);return n.useEffect(()=>{o.current=e}),n.useMemo(()=>(...t)=>{var r;return(r=o.current)===null||r===void 0?void 0:r.call(o,...t)},[])}const S=globalThis!=null&&globalThis.document?n.useLayoutEffect:()=>{};function B(e,o){typeof e=="function"?e(o):e!=null&&(e.current=o)}function E(...e){return o=>e.forEach(t=>B(t,o))}function ne(...e){return n.useCallback(E(...e),e)}const _=n.forwardRef((e,o)=>{const{children:t,...r}=e,c=n.Children.toArray(t),a=c.find(H);if(a){const s=a.props.children,d=c.map(i=>i===a?n.Children.count(s)>1?n.Children.only(null):n.isValidElement(s)?s.props.children:null:i);return n.createElement(b,u({},r,{ref:o}),n.isValidElement(s)?n.cloneElement(s,void 0,d):null)}return n.createElement(b,u({},r,{ref:o}),t)});_.displayName="Slot";const b=n.forwardRef((e,o)=>{const{children:t,...r}=e;return n.isValidElement(t)?n.cloneElement(t,{...D(r,t.props),ref:o?E(o,t.ref):t.ref}):n.Children.count(t)>1?n.Children.only(null):null});b.displayName="SlotClone";const F=({children:e})=>n.createElement(n.Fragment,null,e);function H(e){return n.isValidElement(e)&&e.type===F}function D(e,o){const t={...o};for(const r in o){const c=e[r],a=o[r];/^on[A-Z]/.test(r)?c&&a?t[r]=(...d)=>{a(...d),c(...d)}:c&&(t[r]=c):r==="style"?t[r]={...c,...a}:r==="className"&&(t[r]=[c,a].filter(Boolean).join(" "))}return{...e,...t}}const O=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],x=O.reduce((e,o)=>{const t=n.forwardRef((r,c)=>{const{asChild:a,...s}=r,d=a?_:o;return n.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),n.createElement(d,u({},s,{ref:c}))});return t.displayName=`Primitive.${o}`,{...e,[o]:t}},{});function oe(e,o){e&&j.flushSync(()=>e.dispatchEvent(o))}const A="Avatar",[q,re]=k(A),[G,C]=q(A),K=n.forwardRef((e,o)=>{const{__scopeAvatar:t,...r}=e,[c,a]=n.useState("idle");return n.createElement(G,{scope:t,imageLoadingStatus:c,onImageLoadingStatusChange:a},n.createElement(x.span,u({},r,{ref:o})))}),Z="AvatarImage",z=n.forwardRef((e,o)=>{const{__scopeAvatar:t,src:r,onLoadingStatusChange:c=()=>{},...a}=e,s=C(Z,t),d=U(r),i=T(l=>{c(l),s.onImageLoadingStatusChange(l)});return S(()=>{d!=="idle"&&i(d)},[d,i]),d==="loaded"?n.createElement(x.img,u({},a,{ref:o,src:r})):null}),J="AvatarFallback",Q=n.forwardRef((e,o)=>{const{__scopeAvatar:t,delayMs:r,...c}=e,a=C(J,t),[s,d]=n.useState(r===void 0);return n.useEffect(()=>{if(r!==void 0){const i=window.setTimeout(()=>d(!0),r);return()=>window.clearTimeout(i)}},[r]),s&&a.imageLoadingStatus!=="loaded"?n.createElement(x.span,u({},c,{ref:o})):null});function U(e){const[o,t]=n.useState("idle");return S(()=>{if(!e){t("error");return}let r=!0;const c=new window.Image,a=s=>()=>{r&&t(s)};return t("loading"),c.onload=a("loaded"),c.onerror=a("error"),c.src=e,()=>{r=!1}},[e]),o}const w=K,y=z,N=Q,L=n.forwardRef(({className:e,...o},t)=>v.jsx(w,{ref:t,className:g("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...o}));L.displayName=w.displayName;const R=n.forwardRef(({className:e,...o},t)=>v.jsx(y,{ref:t,className:g("aspect-square h-full w-full",e),...o}));R.displayName=y.displayName;const P=n.forwardRef(({className:e,...o},t)=>v.jsx(N,{ref:t,className:g("bg-muted flex h-full w-full items-center justify-center rounded-full",e),...o}));P.displayName=N.displayName;L.__docgenInfo={description:"",methods:[]};R.__docgenInfo={description:"",methods:[]};P.__docgenInfo={description:"",methods:[]};export{_ as $,L as A,R as a,P as b,T as c,k as d,ne as e,x as f,oe as g,S as h,E as i,F as j};
