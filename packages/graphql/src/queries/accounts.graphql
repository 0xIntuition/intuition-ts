# Main pagination query
query GetAccounts(
  $limit: Int
  $offset: Int
  $orderBy: [atoms_order_by!]
  $where: atoms_bool_exp
) {
  accounts(limit: $limit, offset: $offset, order_by: $orderBy, where: $where) {
    ...AccountMetadata
    ...AccountClaims
    ...AccountPositions
  }
}

# Combined query with aggregates and nodes
query GetAccountsWithAggregates(
  $limit: Int
  $offset: Int
  $orderBy: [atoms_order_by!]
  $where: atoms_bool_exp
) {
  accounts_aggregate(
    limit: $limit
    offset: $offset
    order_by: $orderBy
    where: $where
  ) {
    aggregate {
      count
    }
    nodes {
      ...AccountMetadata
      ...AccountClaims
      ...AccountPositions
    }
  }
}

query GetAccount(
  $address: String!
  $atomsWhere: atoms_bool_exp
  $atomsOrderBy: [atoms_order_by!]
  $atomsLimit: Int
  $atomsOffset: Int
  $triplesWhere: triples_bool_exp
  $triplesOrderBy: [triples_order_by!]
  $triplesLimit: Int
  $triplesOffset: Int
) {
  account(id: $address) {
    ...AccountMetadata
    ...AccountClaims
    ...AccountPositions
    ...AccountCreatedAtoms
    ...AccountCreatedTriples
  }
  chainLinkPrices(limit: 1, order_by: { id: desc }) {
    usd
  }
}
